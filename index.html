<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <script>
        
        // the computer chooses rock, paper, or scissors
        function computerPlay() {
            let choices = ["Rock", "Paper", "Scissors"]
            return choices[Math.floor(Math.random() * choices.length)];
        }

        // standardizes the player selection, ex. "Rock, Paper, or Scissors"
        function playerMakesSelection() {
            let selection
            while (selection !== "Rock" || selection !== "Paper" || selection !== "Scissors") {
                selection = prompt("Choose Rock, Paper, or Scissors", "Choose");
                selection = selection.toLowerCase();
                selection = selection.charAt(0).toUpperCase() + selection.slice(1);
                if (selection == "Rock" || selection == "Paper" || selection == "Scissors") {
                    console.log(selection)
                    return selection
                    break
                 }
            }
        }

        // This function compares player selection vs the computer and adds scores to playerScore and computerScore variables
        function playRound(playerSelection, computerSelection) {
            if (playerSelection == computerSelection) {
                console.log("It's a tie!")
            } else if (playerSelection == "Rock" && computerSelection == "Paper") {
                computerScore = computerScore + 1
                console.log("Paper beats Rock. The computer wins this round.")
            } else if (playerSelection == "Rock" && computerSelection == "Scissors") {
                playerScore = playerScore + 1
                console.log("Rock beats scissors. You win this round!")
            } else if (playerSelection == "Paper" && computerSelection == "Rock") {
                playerScore = playerScore + 1
                console.log("Paper beats rock. You win this round!")
            } else if (playerSelection == "Paper" && computerSelection == "Scissors") {
                computerScore = computerScore + 1
                console.log("Scissors beats paper. The computer wins this round.")
            } else if (playerSelection == "Scissors" && computerSelection == "Rock") {
                computerScore = computerScore + 1
                console.log("Rock beats scissors. The computer wins this round.")
            } else if (playerSelection == "Scissors" && computerSelection == "Paper") {
                playerScore = playerScore + 1
                console.log("Scissors beats paper. You win this round!")
            } else {
                // if player returns invalid selection
                return "Must enter valid selection"
            }                                               
        }

        // Function that executes each step of the game when called
        function game() {

            playerScore = 0
            computerScore = 0
            for (let i = 1; i < 6; i++) {
                let playerSelection = playerMakesSelection()
                let computerSelection = computerPlay();
                playRound(playerSelection, computerSelection);
                console.log("Player score is " + playerScore + ". Computer score is " + computerScore + ".")
            }
            
            if (playerScore > computerScore) {
                return "Congratulations! You win the game!"
            } else if (computerScore > playerScore) {
                return "Sorry, you lost the game. Try again!"
            } else {
                return "Looks like it's a tie. No one wins!"
            }
        }

        // Starts the game
        console.log(game())
    </script>
  </body>
</html>